---
layout: ../../../layouts/DocsLayout.astro
title: Your First Metric
description: Build and execute your first metric with hypequery
---

# Your First Metric

After setting up your project, let's create your first metric and execute it.

## Define a Simple Query

Create a new file `src/metrics/user-stats.ts`:

```typescript
import { createQueryBuilder } from '@hypequery/clickhouse';
import { users } from '../generated/schema';

export const activeUsers = createQueryBuilder(users)
  .select(['user_id', 'email', 'created_at'])
  .where({ status: 'active' })
  .orderBy('created_at', 'DESC')
  .limit(100);
```

## Execute Embedded

Run the query directly in your application:

```typescript
import { activeUsers } from './metrics/user-stats';

const results = await activeUsers.execute();
console.log(results);
```

## Add Parameters

Make your metric reusable with parameters:

```typescript
export const usersByStatus = (status: string) =>
  createQueryBuilder(users)
    .select(['user_id', 'email', 'created_at'])
    .where({ status })
    .orderBy('created_at', 'DESC');

// Use it:
const active = await usersByStatus('active').execute();
const inactive = await usersByStatus('inactive').execute();
```

## Next Steps

- Learn about [type generation](/docs/define/type-generation) to get full type safety
- Explore [schema modeling](/docs/define/schema-modeling) for complex data structures
- Add [metadata and ownership](/docs/define/metric-modules) to organize metrics

---

**Next**: [Type Generation](/docs/define/type-generation)
